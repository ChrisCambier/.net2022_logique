6_2_Recherche_Texte

DEBUT DU PROG

	DEBUT DECLARATION VAR
		VAR TexteSource : T <- "";
		VAR TexteRecherche : T <- "";
		VAR LongueurSource : N <- 0;
		VAR LongueurRecherche : N <- 0;
		VAR RangeRecherche : N <- 0;
		VAR PremièrePosition : N <- 0;
		VAR DernièrePosition : N <- 0;
		VAR Compteur : N <- 1;
		VAR CompteurRépétition : N <- 0;		
	FIN DECLARATION VAR

	Afficher : "Veuillez saisir un texte source."
	Saisir TexteSource
	Afficher : "Veuillez saisir un texte à rechercher."
	Saisir TexteRecherche
	LongueurSource = longueur(TexteSource)
	LongueurRecherche = longueur(TexteRecherche)
	RangeRecherche = (LongueurSource - LongueurRecherche) + 1 // Le +1 permet d'utiliser la fonction sousChaine, afin de trouver la dernière position.


	SI (RangeRecherche < 0)
		ALORS
			Afficher : "Votre texte de recherche est plus grand que votre texte source."

	SINON
		TANT QUE (Compteur <= RangeRecherche)

			SI TexteRecherche == sousChaine(TexteSource, Compteur, (LongueurRecherche+Compteur))
				ALORS
					SI (PremièrePosition == 0)
						ALORS
							PremièrePosition = Compteur
					FIN DE SI
				DernièrePosition = Compteur
				CompteurRépétition++
				Compteur = Compteur + LongueurRecherche
				
				SINON
					Compteur ++
			FIN DE SI
		FIN TANT QUE

		SI (CompteurRépétion != 0)
			ALORS
				Afficher : "Votre texte recherché apparaît pour la première fois à la position ", PremièrePosition, " et pour la dernière fois à la position ", DernièrePosition, ". Le texte apparaît ", CompteurRépétition, " fois dans votre texte."
			SINON
				Afficher : "Le texte recherché n'est pas utilisé dans votre texte."
		FIN DE SI

	FIN DE SI

FIN DU PROG