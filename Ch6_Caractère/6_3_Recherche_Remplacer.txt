6_3_Recherche_Remplacer

DEBUT DU PROG

	DEBUT DECLARATION VAR
		VAR TexteSource : T <- "";
		VAR TexteRecherche : T <- "";
		VAR TexteRemplacement : T <- "";
		VAR TexteDébut : T <- "";
		VAR TexteFin : T <- "";
		VAR LongueurSource : N <- 0;
		VAR LongueurRecherche : N <- 0;
		VAR LongueurRemplacement : N <- 0;
		VAR RangeRecherche : N <- 0;
		VAR PremièrePositionBase : N <- 1;
		VAR DernièrePositionBase : N <- 0;
		VAR PremièrePositionSuite : N <- 0;
		VAR DernièrePositionSuite : N <- 0;
		VAR Compteur : N <- 1;
		VAR CompteurRépétition : N <- 0;		
	FIN DECLARATION VAR

	Afficher : "Veuillez saisir un texte source."
	Saisir TexteSource
	Afficher : "Veuillez saisir un texte à rechercher."
	Saisir TexteRecherche
	Afficher : "Veuillez saisir un texte à remplacer."
	Saisir TexteRemplacement

	LongueurSource = longueur(TexteSource)
	LongueurRecherche = longueur(TexteRecherche)
	LongueurRemplacement = longueur(TexteRemplacement)
	RangeRecherche = (LongueurSource - LongueurRecherche) + 1 // Le +1 permet d'utiliser la fonction sousChaine, afin de trouver la dernière position.


	SI (RangeRecherche < 0)
		ALORS
			Afficher : "Votre texte de recherche est plus grand que votre texte source."

	SINON
		TANT QUE (Compteur <= RangeRecherche)

			SI TexteRecherche == sousChaine(TexteSource, Compteur, (LongueurRecherche+Compteur))
				ALORS
					DernièrePositionBase = Compteur												
					PremièrePositionSuite = Compteur + LongueurRemplacement
					DernièrePositionSuite = LongueurSource + LongueurRemplacement

					TexteDébut = sousChaine(TexteSource, PremièrePositionBase, DernièrePositionBase)
					TexteFin = sousChaine(TexteSource, PremièrePositionSuite, DernièrePositionSuite)
					TexteSource = TexteDébut + TexteRemplacement + TexteFin
					LongueurSource = longueur(TexteSource)

					Compteur = Compteur + LongueurRemplacement
				
				SINON
					Compteur ++
			FIN DE SI
		FIN TANT QUE

		Afficher : TexteSource

	FIN DE SI

FIN DU PROG